
  
#Makefile for llmpx runtime library
CFLAGS=-fPIC -Wall -g -Ofast -march=native

all: static dynamic

dynamic:
	${CC} ${CFLAGS} -fPIC -DPIC -c compareOffsetNSize.c -o compareOffsetNSizeOut
	${CC} ${LDFLAGS} -shared compareOffsetNSize.o -o compareOffsetNSize.so

static:
	${CC} ${CFLAGS} -c compareOffsetNSize.c -o compareOffsetNSize.o
	rm -f libllmpx_rt.a
	${AR} -rcs compareOffsetNSize.a compareOffsetNSize.o
	ranlib compareOffsetNSize.a

clean:
	rm -f compareOffsetNSize.o compareOffsetNSize.so
	rm -f compareOffsetNSize.o compareOffsetNSize.a
